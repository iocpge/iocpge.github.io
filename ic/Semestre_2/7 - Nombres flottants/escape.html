<!DOCTYPE HTML>
<html>
<head>
    <title>IC</title>
    <meta content="Informatique commune" name="title">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link href="style.css" rel="stylesheet">
    <link href="prism.css" rel="stylesheet">
    <link href="fr.css" rel="stylesheet">
    <script src="prism.min.js" type="text/javascript"></script>
    <script id="Local scripts" src="script.js" type="text/javascript"></script>
    <link href="/favicon.ico" rel="icon">
    <link href="/favicon.svg" rel="icon" type="image/svg+xml">
    <link href="/apple-touch-icon.png" rel="apple-touch-icon">
    <script src="pseudocode.renderElement(document.getElementById(&quot;algorithm&quot;));" type="text/javascript"></script>
    <script> function hashCode(str) {
    		let hash = 0;
    		for (let i = 0, len = str.length; i < len; i++) {
        		let chr = str.charCodeAt(i);
        		hash = (hash << 5) - hash + chr;
        		hash = hash >>> 0; // Convert to 32bit integer
    		}
    	      return hash;
    } </script>
</head>
   <body>
      <center>
         <div class="Code">
            <fieldset>
               <legend>Classe ?</legend>
               <input type="radio" name="mpsi" id="mpsi1" value="MPSI1">MPSI1<br>
               <input type="radio" name="mpsi" id="mpsi2" value="MPSI2">MPSI2<br>
               <br>
           </fieldset>
         <input type="password" placeholder="Quel est le code ?" id="escape">
         <button onclick="setthemfree()">VÃ‰RIFIER</button>
         <script>
            function setthemfree() {
		         const result = hashCode(document.getElementById('escape').value); 
               var mpsi1 = document.getElementById('mpsi1');
               var mpsi2 = document.getElementById('mpsi2');
               //document.write("<center><h1>" + result + "</h1></center>");
               let passcode = 0;
               if (mpsi1.checked){
                   passcode = 3292426052; // hash ! 
               }
               else if (mpsi2.checked) {
                   passcode = 3855970162; // hash !
               }
               else {
                 alert("Il faut choisir une classe...")
                 location.reload();
               }
               if (result == 0){
                  alert("Il faut fournir un code !")
                 location.reload();
               }
               else if (result == passcode) {
                  document.write("<center><h1>Bonnes vacances !</h1></center>");
               } else {
                 alert("Ce code est incorrect !")
                 location.reload();
               }   
            }
         </script>
         </div>
      </center>
   </body>
</html>
